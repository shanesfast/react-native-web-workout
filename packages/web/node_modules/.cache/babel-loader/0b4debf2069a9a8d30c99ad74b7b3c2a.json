{"ast":null,"code":"var Class = require('../../core/class');\n\nvar Base = require('./base');\n\nvar Path = require('./path');\n\nmodule.exports = Class(Base, {\n  base_initialize: Base.prototype.initialize,\n  initialize: function (path, width, height) {\n    this.base_initialize();\n    this.width = width;\n    this.height = height;\n    if (path != null) this.draw(path);\n  },\n  draw: function (path, width, height) {\n    if (!(path instanceof Path)) path = new Path(path);\n    this.path = path;\n    this._commands = path.toCommands();\n    if (width != null) this.width = width;\n    if (height != null) this.height = height;\n    return this.invalidate();\n  },\n  localHitTest: function (x, y) {\n    if (!this._fill) return null;\n\n    if (this.width == null || this.height == null) {\n      var context = Base._genericContext,\n          commands = this._commands;\n      if (!commands) return null;\n      context.beginPath();\n\n      for (var i = 0, l = commands.length; i < l; i++) commands[i](context);\n\n      return context.isPointInPath(x, y) ? this : null;\n    }\n\n    if (x > 0 && y > 0 && x < this.width && y < this.height) {\n      return this;\n    }\n\n    return null;\n  },\n  renderShapeTo: function (context) {\n    if (this._invisible || !this._commands || !this._fill && !this._stroke) {\n      return null;\n    }\n\n    context.transform(this.xx, this.yx, this.xy, this.yy, this.x, this.y);\n    var commands = this._commands,\n        fill = this._fill,\n        stroke = this._stroke,\n        dash = this._strokeDash;\n    context.beginPath();\n\n    if (dash) {\n      if (context.setLineDash) {\n        context.setLineDash(dash);\n      } else {\n        // TODO: Remove when FF supports setLineDash.\n        context.mozDash = dash;\n      } // TODO: Create fallback to other browsers.\n\n    } else {\n      if (context.setLineDash) {\n        context.setLineDash([]);\n      } else {\n        context.mozDash = null;\n      }\n    }\n\n    for (var i = 0, l = commands.length; i < l; i++) commands[i](context);\n\n    if (fill) {\n      var m = this._fillTransform;\n\n      if (m) {\n        context.save(); // TODO: Optimize away this by restoring the transform before stroking\n\n        context.transform(m.xx, m.yx, m.xy, m.yy, m.x, m.y);\n        context.fillStyle = fill;\n        context.fill();\n        context.restore();\n      } else {\n        context.fillStyle = fill;\n        context.fill();\n      }\n    }\n\n    if (stroke) {\n      context.strokeStyle = stroke;\n      context.lineWidth = this._strokeWidth;\n      context.lineCap = this._strokeCap;\n      context.lineJoin = this._strokeJoin;\n      context.stroke();\n    }\n  }\n});","map":{"version":3,"sources":["/Users/quickmac/Desktop/node_projects/react-native-web-workout/node_modules/art/modes/canvas/shape.js"],"names":["Class","require","Base","Path","module","exports","base_initialize","prototype","initialize","path","width","height","draw","_commands","toCommands","invalidate","localHitTest","x","y","_fill","context","_genericContext","commands","beginPath","i","l","length","isPointInPath","renderShapeTo","_invisible","_stroke","transform","xx","yx","xy","yy","fill","stroke","dash","_strokeDash","setLineDash","mozDash","m","_fillTransform","save","fillStyle","restore","strokeStyle","lineWidth","_strokeWidth","lineCap","_strokeCap","lineJoin","_strokeJoin"],"mappings":"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","sourcesContent":["var Class = require('../../core/class');\nvar Base = require('./base');\nvar Path = require('./path');\n\nmodule.exports = Class(Base, {\n\n\tbase_initialize: Base.prototype.initialize,\n\n\tinitialize: function(path, width, height){\n\t\tthis.base_initialize();\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tif (path != null) this.draw(path);\n\t},\n\n\tdraw: function(path, width, height){\n\t\tif (!(path instanceof Path)) path = new Path(path);\n\t\tthis.path = path;\n\t\tthis._commands = path.toCommands();\n\t\tif (width != null) this.width = width;\n\t\tif (height != null) this.height = height;\n\t\treturn this.invalidate();\n\t},\n\n\tlocalHitTest: function(x, y){\n\t\tif (!this._fill) return null;\n\t\tif (this.width == null || this.height == null){\n\t\t\tvar context = Base._genericContext, commands = this._commands;\n\t\t\tif (!commands) return null;\n\t\t\tcontext.beginPath();\n\t\t\tfor (var i = 0, l = commands.length; i < l; i++)\n\t\t\t\tcommands[i](context);\n\t\t\treturn context.isPointInPath(x, y) ? this : null;\n\t\t}\n\t\tif (x > 0 && y > 0 && x < this.width && y < this.height){\n\t\t\treturn this;\n\t\t}\n\t\treturn null;\n\t},\n\n\trenderShapeTo: function(context){\n\t\tif (this._invisible || !this._commands || (!this._fill && !this._stroke)) {\n\t\t\treturn null;\n\t\t}\n\t\tcontext.transform(this.xx, this.yx, this.xy, this.yy, this.x, this.y);\n\t\tvar commands = this._commands,\n\t\t    fill = this._fill,\n\t\t    stroke = this._stroke,\n\t\t    dash = this._strokeDash;\n\n\t\tcontext.beginPath();\n\n\t\tif (dash) {\n\t\t\tif (context.setLineDash) {\n\t\t\t\tcontext.setLineDash(dash);\n\t\t\t} else {\n\t\t\t\t// TODO: Remove when FF supports setLineDash.\n\t\t\t\tcontext.mozDash = dash;\n\t\t\t}\n\t\t\t// TODO: Create fallback to other browsers.\n\t\t} else {\n\t\t\tif (context.setLineDash) {\n\t\t\t\tcontext.setLineDash([]);\n\t\t\t} else {\n\t\t\t\tcontext.mozDash = null;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = commands.length; i < l; i++)\n\t\t\tcommands[i](context);\n\n\t\tif (fill){\n\t\t\tvar m = this._fillTransform;\n\t\t\tif (m){\n\t\t\t\tcontext.save(); // TODO: Optimize away this by restoring the transform before stroking\n\t\t\t\tcontext.transform(m.xx, m.yx, m.xy, m.yy, m.x, m.y);\n\t\t\t\tcontext.fillStyle = fill;\n\t\t\t\tcontext.fill();\n\t\t\t\tcontext.restore();\n\t\t\t} else {\n\t\t\t\tcontext.fillStyle = fill;\n\t\t\t\tcontext.fill();\n\t\t\t}\n\t\t}\n\t\tif (stroke){\n\t\t\tcontext.strokeStyle = stroke;\n\t\t\tcontext.lineWidth = this._strokeWidth;\n\t\t\tcontext.lineCap = this._strokeCap;\n\t\t\tcontext.lineJoin = this._strokeJoin;\n\t\t\tcontext.stroke();\n\t\t}\n\t}\n\n});\n"]},"metadata":{},"sourceType":"script"}