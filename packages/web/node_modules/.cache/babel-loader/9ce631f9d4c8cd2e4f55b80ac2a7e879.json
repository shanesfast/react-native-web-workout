{"ast":null,"code":"var Class = require('../../core/class');\n\nvar Base = require('./base');\n\nvar Path = require('./path');\n\nvar DOM = require('./dom');\n\nvar precision = 100;\nmodule.exports = Class(Base, {\n  base_initialize: Base.prototype.initialize,\n  initialize: function (path, width, height) {\n    this.base_initialize('shape');\n    var p = this.pathElement = DOM.createElement('path');\n    p.gradientshapeok = true;\n    this.element.appendChild(p);\n    this.width = width;\n    this.height = height;\n    if (path != null) this.draw(path);\n  },\n  // SVG to VML\n  draw: function (path, width, height) {\n    if (!(path instanceof Path)) path = new Path(path);\n    this._vml = path.toVML(); //this._size = path.measure();\n\n    if (width != null) this.width = width;\n    if (height != null) this.height = height;\n    if (!this._boxCoords) this._transform();\n\n    this._redraw(this._prefix, this._suffix);\n\n    return this;\n  },\n  // radial gradient workaround\n  _redraw: function (prefix, suffix) {\n    var vml = this._vml || '';\n    this._prefix = prefix;\n    this._suffix = suffix;\n\n    if (prefix) {\n      vml = [prefix, vml, suffix, // Don't stroke the path with the extra ellipse, redraw the stroked path separately\n      'ns e', vml, 'nf'].join(' ');\n    }\n\n    this.element.path = vml + 'e';\n  },\n  fillRadial: function (stops, focusX, focusY, radiusX, radiusY, centerX, centerY) {\n    var fill = this._createGradient('gradientradial', stops);\n\n    if (focusX == null) focusX = (this.left || 0) + (this.width || 0) * 0.5;\n    if (focusY == null) focusY = (this.top || 0) + (this.height || 0) * 0.5;\n    if (radiusY == null) radiusY = radiusX || this.height * 0.5 || 0;\n    if (radiusX == null) radiusX = (this.width || 0) * 0.5;\n    if (centerX == null) centerX = focusX;\n    if (centerY == null) centerY = focusY;\n    centerX += centerX - focusX;\n    centerY += centerY - focusY;\n    var cx = Math.round(centerX * precision),\n        cy = Math.round(centerY * precision),\n        rx = Math.round(radiusX * 2 * precision),\n        ry = Math.round(radiusY * 2 * precision),\n        arc = ['wa', cx - rx, cy - ry, cx + rx, cy + ry].join(' ');\n\n    this._redraw( // Resolve rendering bug\n    ['m', cx, cy - ry, 'l', cx, cy - ry].join(' '), // Draw an ellipse around the path to force an elliptical gradient on any shape\n    ['m', cx, cy - ry, arc, cx, cy - ry, cx, cy + ry, arc, cx, cy + ry, cx, cy - ry, arc, cx, cy - ry, cx, cy + ry, arc, cx, cy + ry, cx, cy - ry].join(' '));\n\n    this._boxCoords = {\n      left: focusX - 2,\n      top: focusY - 2,\n      width: 4,\n      height: 4\n    };\n    fill.focusposition = '0.5,0.5';\n    fill.focussize = '0 0';\n    fill.focus = '50%';\n\n    this._transform();\n\n    return this;\n  }\n});","map":{"version":3,"sources":["/Users/quickmac/Desktop/node_projects/react-native-web-workout/node_modules/art/modes/vml/shape.js"],"names":["Class","require","Base","Path","DOM","precision","module","exports","base_initialize","prototype","initialize","path","width","height","p","pathElement","createElement","gradientshapeok","element","appendChild","draw","_vml","toVML","_boxCoords","_transform","_redraw","_prefix","_suffix","prefix","suffix","vml","join","fillRadial","stops","focusX","focusY","radiusX","radiusY","centerX","centerY","fill","_createGradient","left","top","cx","Math","round","cy","rx","ry","arc","focusposition","focussize","focus"],"mappings":"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","sourcesContent":["var Class = require('../../core/class');\nvar Base = require('./base');\nvar Path = require('./path');\nvar DOM = require('./dom');\n\nvar precision = 100;\n\nmodule.exports = Class(Base, {\n\n\tbase_initialize: Base.prototype.initialize,\n\t\n\tinitialize: function(path, width, height){\n\t\tthis.base_initialize('shape');\n\n\t\tvar p = this.pathElement = DOM.createElement('path');\n\t\tp.gradientshapeok = true;\n\t\tthis.element.appendChild(p);\n\t\t\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\t\n\t\tif (path != null) this.draw(path);\n\t},\n\t\n\t// SVG to VML\n\t\n\tdraw: function(path, width, height){\n\t\t\n\t\tif (!(path instanceof Path)) path = new Path(path);\n\t\tthis._vml = path.toVML();\n\t\t//this._size = path.measure();\n\t\t\n\t\tif (width != null) this.width = width;\n\t\tif (height != null) this.height = height;\n\t\t\n\t\tif (!this._boxCoords) this._transform();\n\t\tthis._redraw(this._prefix, this._suffix);\n\t\t\n\t\treturn this;\n\t},\n\t\n\t// radial gradient workaround\n\n\t_redraw: function(prefix, suffix){\n\t\tvar vml = this._vml || '';\n\n\t\tthis._prefix = prefix;\n\t\tthis._suffix = suffix\n\t\tif (prefix){\n\t\t\tvml = [\n\t\t\t\tprefix, vml, suffix,\n\t\t\t\t// Don't stroke the path with the extra ellipse, redraw the stroked path separately\n\t\t\t\t'ns e', vml, 'nf'\n\t\t\t].join(' ');\n\t\t}\n\n\t\tthis.element.path = vml + 'e';\n\t},\n\n\tfillRadial: function(stops, focusX, focusY, radiusX, radiusY, centerX, centerY){\n\t\tvar fill = this._createGradient('gradientradial', stops);\n\t\tif (focusX == null) focusX = (this.left || 0) + (this.width || 0) * 0.5;\n\t\tif (focusY == null) focusY = (this.top || 0) + (this.height || 0) * 0.5;\n\t\tif (radiusY == null) radiusY = radiusX || (this.height * 0.5) || 0;\n\t\tif (radiusX == null) radiusX = (this.width || 0) * 0.5;\n\t\tif (centerX == null) centerX = focusX;\n\t\tif (centerY == null) centerY = focusY;\n\n\t\tcenterX += centerX - focusX;\n\t\tcenterY += centerY - focusY;\n\t\t\n\t\tvar cx = Math.round(centerX * precision),\n\t\t\tcy = Math.round(centerY * precision),\n\n\t\t\trx = Math.round(radiusX * 2 * precision),\n\t\t\try = Math.round(radiusY * 2 * precision),\n\n\t\t\tarc = ['wa', cx - rx, cy - ry, cx + rx, cy + ry].join(' ');\n\n\t\tthis._redraw(\n\t\t\t// Resolve rendering bug\n\t\t\t['m', cx, cy - ry, 'l', cx, cy - ry].join(' '),\n\t\t\t// Draw an ellipse around the path to force an elliptical gradient on any shape\n\t\t\t[\n\t\t\t\t'm', cx, cy - ry,\n\t\t\t\tarc, cx, cy - ry, cx, cy + ry, arc, cx, cy + ry, cx, cy - ry,\n\t\t\t\tarc, cx, cy - ry, cx, cy + ry, arc, cx, cy + ry, cx, cy - ry\n\t\t\t].join(' ')\n\t\t);\n\n\t\tthis._boxCoords = { left: focusX - 2, top: focusY - 2, width: 4, height: 4 };\n\t\t\n\t\tfill.focusposition = '0.5,0.5';\n\t\tfill.focussize = '0 0';\n\t\tfill.focus = '50%';\n\t\t\n\t\tthis._transform();\n\t\t\n\t\treturn this;\n\t}\n\n});"]},"metadata":{},"sourceType":"script"}